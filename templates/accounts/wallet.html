{% extends 'base.html' %}

{% block content %}
<section class="section-content padding-y bg">
    {% include 'includes/alerts.html' %}
    
    <div class="container">
        <div class="row">
            {% include 'includes/dashboard_sidebar.html' %}
            <main class="col-md-9">
                <!-- Wallet Balance Section -->
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h4 class="card-title">Wallet</h4>
                        <div class="wallet-balance mb-4">
                            <h2 class="display-4">₹{{ wallet.wallet_balance }}</h2>
                            <p>Wallet Balance</p>
                        </div>
                            
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Type of Payment</th>
                                    <th>Amount</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for transaction in wallet_transactions %}
                                <tr>
                                    <td>{{ transaction.date }}</td>
                                    <td>{{ transaction.get_transaction_type_display }}</td>
                                    <td class="{% if transaction.transaction_type == 'credit' %}text-success{% else %}text-danger{% endif %}">
                                        {% if transaction.transaction_type == 'credit' %}+{% else %}-{% endif %}₹{{ transaction.amount }}
                                    </td>
                                </tr>
                                {% empty %}
                                <tr>
                                    <td colspan="3">No transactions found.</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </main>
        </div> <!-- row.// -->
    </div>
    
</section>

<style>
    .wallet-balance {
        text-align: center;
    }
    
    .wallet-balance .display-4 {
        color: #008000;
        font-weight: bold;
    }
    
    .wallet-balance p {
        font-size: 18px;
        margin-top: -10px;
        color: #666;
    }
    
    .table th, .table td {
        vertical-align: middle;
    }
    
    .table-bordered td {
        text-align: center;
    }
</style>
{% endblock %}
